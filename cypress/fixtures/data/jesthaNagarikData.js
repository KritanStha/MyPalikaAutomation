import { faker } from '@faker-js/faker';
import fakerNepali from '../../support/fakerNepali.js';

// Environment-specific configuration for Jestha Nagarik test data
const isProduction = Cypress.env('USE_PRODUCTION_ENV') === 'true';

// Form-specific data (not generated by Faker)
const BLOOD_GROUPS = {
    testing: {
        'A+': '4e02b9ea-a91c-46ba-bdc0-102cf66abb47',
        'A-': 'edae71bd-4e37-4cd5-b4a3-62d58068f797',
        'B+': 'feeec4bd-ed6f-49dc-acc5-7826fabb9c48',
        'B-': 'fd0cf8b2-2288-4368-9959-90819c4edfc4',
        'AB+': '91f09f47-61b8-482f-94c6-529b879e29fc',
        'AB-': 'b38b79c5-f50b-414f-965a-2e4a18e41a85',
        'O+': '145cb954-1318-4482-9489-5fbcdcf3171d',
        'O-': 'b07bd07a-18c4-42eb-a88c-b9491884c63a'
    },
    production: {
        'A+': '4e02b9ea-a91c-46ba-bdc0-102cf66abb47',
        'A-': 'edae71bd-4e37-4cd5-b4a3-62d58068f797',
        'B+': 'feeec4bd-ed6f-49dc-acc5-7826fabb9c48',
        'B-': 'fd0cf8b2-2288-4368-9959-90819c4edfc4',
        'AB+': '91f09f47-61b8-482f-94c6-529b879e29fc',
        'AB-': 'b38b79c5-f50b-414f-965a-2e4a18e41a85',
        'O+': '145cb954-1318-4482-9489-5fbcdcf3171d',
        'O-': 'b07bd07a-18c4-42eb-a88c-b9491884c63a'
    }
};

const QUALIFICATIONS = ['See', 'PlusTwo', 'BachelorsDegree', 'MastersDegree'];
const OCCUPATIONS = ['Agriculture', 'Business', 'Others', 'Unemployed', 'Studying', 'PrivateSector', 'SelfEmployment'];
const RELATIONS = ['Son', 'Daughter', 'Brother', 'Sister', 'Father', 'GrandFather', 'GrandMother', 'Husband', 'Mother', 'Wife'];
const FACILITIES = [
    'स्वास्थ्य सेवा', 'खाना सेवा', 'आवास सेवा', 'शिक्षा सेवा',
    'मनोरञ्जन सेवा', 'यातायात सेवा', 'कानूनी सहायता', 'आर्थिक सहायता',
    'सामाजिक सुरक्षा', 'औषधि सेवा', 'फिजियोथेरापी', 'योग कक्षा'
];

// Generate test data using Faker for common fields
const gender = faker.helpers.arrayElement(['MALE', 'FEMALE']);
const firstNameNp = fakerNepali.person.firstName(gender);
const firstNameEn = fakerNepali.person.firstNameEn(gender);
const middleNameNp = fakerNepali.person.middleName();
const middleNameEn = fakerNepali.person.middleNameEn();
const lastNameNp = fakerNepali.person.lastName();
const lastNameEn = fakerNepali.person.lastNameEn();

// Generate caretaker data (opposite gender)
const caretakerGender = gender === 'MALE' ? 'FEMALE' : 'MALE';
const caretakerFirstNameNp = fakerNepali.person.firstName(caretakerGender);
const caretakerFirstNameEn = fakerNepali.person.firstNameEn(caretakerGender);
const caretakerMiddleNameNp = fakerNepali.person.middleName();
const caretakerMiddleNameEn = fakerNepali.person.middleNameEn();
const caretakerLastNameNp = fakerNepali.person.lastName();
const caretakerLastNameEn = fakerNepali.person.lastNameEn();

// Select random blood group
const env = isProduction ? 'production' : 'testing';
const bloodGroupNames = Object.keys(BLOOD_GROUPS[env]);
const selectedBloodGroup = faker.helpers.arrayElement(bloodGroupNames);

const jesthaNagarikData = {
    userSearch: "Rajiv Sapkota",

    // Personal Description
    personal: {
        firstNameEn: firstNameEn,
        firstNameNp: firstNameNp,
        middleNameEn: middleNameEn,
        middleNameNp: middleNameNp,
        lastNameEn: lastNameEn,
        lastNameNp: lastNameNp,
        email: fakerNepali.contact.email(firstNameEn, lastNameEn),
        gender: gender,
        bloodGroup: BLOOD_GROUPS[env][selectedBloodGroup],
        citizenshipNo: fakerNepali.contact.citizenshipNo(),
        citizenshipIssuedDistrict: "28", // Kathmandu
        qualification: faker.helpers.arrayElement(QUALIFICATIONS),
        occupation: faker.helpers.arrayElement(OCCUPATIONS),
        mobileNo: fakerNepali.contact.mobileNo()
    },

    // Permanent Address
    permanentAddress: {
        province: "3", // Bagmati
        district: "28", // Kathmandu
        municipality: "काठमाडौँ महानगरपालिका",
        ward: fakerNepali.location.ward(),
        village: fakerNepali.location.village()
    },

    // Temporary Address (same as permanent)
    temporaryAddress: {
        province: "3", // Bagmati
        district: "28", // Kathmandu
        municipality: "काठमाडौँ महानगरपालिका",
        ward: fakerNepali.location.ward(),
        village: fakerNepali.location.village()
    },

    // Caretaker Details
    caretaker: {
        firstNameEn: caretakerFirstNameEn,
        firstNameNp: caretakerFirstNameNp,
        middleNameEn: caretakerMiddleNameEn,
        middleNameNp: caretakerMiddleNameNp,
        lastNameEn: caretakerLastNameEn,
        lastNameNp: caretakerLastNameNp,
        email: fakerNepali.contact.email(caretakerFirstNameEn, caretakerLastNameEn),
        relation: faker.helpers.arrayElement(RELATIONS),
        province: "3", // Bagmati
        district: "28", // Kathmandu
        municipality: "काठमाडौँ महानगरपालिका",
        ward: fakerNepali.location.ward(),
        village: fakerNepali.location.village(),
        citizenshipNo: fakerNepali.contact.citizenshipNo(),
        citizenshipIssuedDistrict: "28", // Kathmandu
        contact: fakerNepali.contact.mobileNo()
    },

    // Jestha Nagarik Details
    jesthaNagarik: {
        hasIllness: faker.datatype.boolean(),
        hasCareCenter: faker.datatype.boolean(),
        availableFacilities: faker.helpers.arrayElements(FACILITIES, faker.number.int({ min: 1, max: 3 }))
    },

    // Remarks
    remarks: fakerNepali.utils.nepaliText(8)
};

export default jesthaNagarikData;
