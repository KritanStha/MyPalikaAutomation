import { faker } from '@faker-js/faker';
import fakerNepali from '../../support/fakerNepali.js';

// Environment-specific configuration
const isProduction = Cypress.env('USE_PRODUCTION_ENV') === 'true';

// Form-specific data (not generated by Faker)
const BLOOD_GROUPS = {
    testing: {
        'A+': '4e02b9ea-a91c-46ba-bdc0-102cf66abb47',
        'A-': 'edae71bd-4e37-4cd5-b4a3-62d58068f797',
        'B+': 'feeec4bd-ed6f-49dc-acc5-7826fabb9c48',
        'B-': 'fd0cf8b2-2288-4368-9959-90819c4edfc4',
        'AB+': '91f09f47-61b8-482f-94c6-529b879e29fc',
        'AB-': 'b38b79c5-f50b-414f-965a-2e4a18e41a85',
        'O+': '145cb954-1318-4482-9489-5fbcdcf3171d',
        'O-': 'b07bd07a-18c4-42eb-a88c-b9491884c63a'
    },
    production: {
        'A+': '4e02b9ea-a91c-46ba-bdc0-102cf66abb47',
        'A-': 'edae71bd-4e37-4cd5-b4a3-62d58068f797',
        'B+': 'feeec4bd-ed6f-49dc-acc5-7826fabb9c48',
        'B-': 'fd0cf8b2-2288-4368-9959-90819c4edfc4',
        'AB+': '91f09f47-61b8-482f-94c6-529b879e29fc',
        'AB-': 'b38b79c5-f50b-414f-965a-2e4a18e41a85',
        'O+': '145cb954-1318-4482-9489-5fbcdcf3171d',
        'O-': 'b07bd07a-18c4-42eb-a88c-b9491884c63a'
    }
};

const RELIGIONS = {
    testing: {
        'Hinduism': 'ee365044-c562-4256-80d4-6258c68c98d6',
        'Buddhism': 'c3cdd9a5-761f-4e6f-af50-cfef11170f75',
        'Islam': '52809501-518b-4480-ad7b-279cdd71e467',
        'Christianity': '0caa9592-0431-44da-b86d-8a5af3e848ef',
        'Kiratism': '0fc7cfc5-1f0f-4098-93ec-a6168079df6f',
        'Sikhism': '64d3fd9d-1ef7-4e81-8024-49271864db37'
    },
    production: {
        'Hinduism': 'ee365044-c562-4256-80d4-6258c68c98d6',
        'Buddhism': 'c3cdd9a5-761f-4e6f-af50-cfef11170f75',
        'Islam': '52809501-518b-4480-ad7b-279cdd71e467',
        'Christianity': '0caa9592-0431-44da-b86d-8a5af3e848ef',
        'Kiratism': '0fc7cfc5-1f0f-4098-93ec-a6168079df6f',
        'Sikhism': '64d3fd9d-1ef7-4e81-8024-49271864db37',
        'Bon': 'b1267e0a-19fe-47f6-847b-a3b897e0e1df',
        'Jainism': '52080944-2b1f-4f8c-9111-10de0180ad81',
        "Bahá'í Faith": '5af6d3be-9784-4c3c-9671-857ab8c03806',
        'Ayyavazhi': '76aceb79-3daa-48e6-b3a0-d6322f9903d5',
        'Satya Sai Baba': '6ddf259b-18ce-4b3e-b27b-cdd00e03bdd6',
        'Others': '63253a34-04c9-4595-975b-1563f93c831a'
    }
};

const QUALIFICATIONS = ['See', 'PlusTwo', 'BachelorsDegree', 'MastersDegree'];
const OCCUPATIONS = ['Agriculture', 'Business', 'Others', 'Unemployed', 'Studying', 'PrivateSector', 'SelfEmployment'];
const MARITAL_STATUS = ['SINGLE', 'MARRIED', 'DIVORCED', 'WIDOWED', 'SEPARATED'];
const EMPLOYMENT_STATUS = ['EMPLOYED', 'UNEMPLOYED'];
const RELATIONS = ['Son', 'Daughter', 'Brother', 'Sister', 'Father', 'GrandFather', 'GrandMother', 'Husband', 'Mother', 'Wife'];

const DISABILITY_TYPES = ['PHYSICAL_DISABILITY', 'VISUAL_DISABILITY', 'HEARING_DISABILITY', 'HEARING_VISUAL_IMPAIRMENT', 'VOICE_SPEECH_IMPAIRMENT', 'MENTAL_PSYCHOSOCIAL_DISABILITY', 'INTELLECTUAL_DISABILITY', 'HEMOPHILIA_RELATED_DISABILITY', 'AUTISM_RELATED_DISABILITY', 'MULTIPLE_DISABILITIES'];
const DISABILITY_SEVERITY = ['TOTAL', 'SEVERE', 'MODERATE', 'GENERAL'];
const DISABILITY_CATEGORY = ['MILD', 'MODERATE', 'PROFOUND_SEVERE', 'SEVERE'];
const DISABILITY_CAUSE = ['रोगको दिर्घ असर', 'दुर्घटना', 'जन्मघात', 'सशस्त्र द्वन्द', 'वंशानुगत कारण', 'अन्य'];
const DISABILITY_NATURE = ['स्थायी', 'अस्थायी'];
const DISABILITY_SERIOUSNESS = ['हल्का', 'मध्यम', 'गम्भीर'];

// Disability Subtypes - mapped to disability types
const DISABILITY_SUBTYPES = {
    'PHYSICAL_DISABILITY': ['AMPUTATION', 'CEREBRAL_PALSY', 'DWARFISM', 'LEPROSY_CURED', 'MUSCULAR_DYSTROPHY', 'ACID_ATTACK_VICTIM', 'OTHERS'],
    'VISUAL_DISABILITY': ['BLIND', 'LOW_VISION'],
    'HEARING_DISABILITY': ['DEAF', 'HARD_OF_HEARING'],
    'HEARING_VISUAL_IMPAIRMENT': ['DEAF_BLIND'],
    'VOICE_SPEECH_IMPAIRMENT': ['SPEECH_IMPAIRMENT'],
    'MENTAL_PSYCHOSOCIAL_DISABILITY': ['MENTAL_ILLNESS'],
    'INTELLECTUAL_DISABILITY': ['SPECIFIC_LEARNING_DISABILITY', 'INTELLECTUAL_DISABILITY'],
    'HEMOPHILIA_RELATED_DISABILITY': ['HEMOPHILIA', 'THALASSEMIA', 'SICKLE_CELL_DISEASE'],
    'AUTISM_RELATED_DISABILITY': ['AUTISM_SPECTRUM_DISORDER'],
    'MULTIPLE_DISABILITIES': ['MULTIPLE_DISABILITIES']
};

// Generate test data using Faker for common fields
const gender = faker.helpers.arrayElement(['MALE', 'FEMALE']);
const firstNameNp = fakerNepali.person.firstName(gender);
const firstNameEn = fakerNepali.person.firstNameEn(gender);
const middleNameNp = fakerNepali.person.middleName();
const middleNameEn = fakerNepali.person.middleNameEn();
const lastNameNp = fakerNepali.person.lastName();
const lastNameEn = fakerNepali.person.lastNameEn();

// Generate patron data (different person)
const patronGender = faker.helpers.arrayElement(['MALE', 'FEMALE']);
const patronFirstNameNp = fakerNepali.person.firstName(patronGender);
const patronFirstNameEn = fakerNepali.person.firstNameEn(patronGender);
const patronMiddleNameNp = fakerNepali.person.middleName();
const patronMiddleNameEn = fakerNepali.person.middleNameEn();
const patronLastNameNp = fakerNepali.person.lastName();
const patronLastNameEn = fakerNepali.person.lastNameEn();

// Select random blood group and religion
const env = isProduction ? 'production' : 'testing';
const bloodGroupNames = Object.keys(BLOOD_GROUPS[env]);
const selectedBloodGroup = faker.helpers.arrayElement(bloodGroupNames);
const religionNames = Object.keys(RELIGIONS[env]);
const selectedReligion = faker.helpers.arrayElement(religionNames);

const disabilityData = {
    userSearch: "Rajiv Sapkota",
    category: faker.helpers.arrayElement(DISABILITY_CATEGORY),

    // Personal Information
    personal: {
        firstNameEn: firstNameEn,
        firstNameNp: firstNameNp,
        middleNameEn: middleNameEn,
        middleNameNp: middleNameNp,
        lastNameEn: lastNameEn,
        lastNameNp: lastNameNp,
        email: fakerNepali.contact.email(firstNameEn, lastNameEn),
        gender: gender,
        bloodGroup: BLOOD_GROUPS[env][selectedBloodGroup],
        maritalStatus: faker.helpers.arrayElement(MARITAL_STATUS),
        employmentStatus: faker.helpers.arrayElement(EMPLOYMENT_STATUS),
        religion: RELIGIONS[env][selectedReligion],
        telephoneNo: fakerNepali.contact.mobileNo(),
        // For minors (age < 18)
        birthRegistrationNumber: String(faker.number.int({ min: 1000000, max: 9999999 })),
        birthCertificateIssueDistrict: "Kathmandu",
        // For adults (age >= 18) - kept for reference
        citizenshipNo: fakerNepali.contact.citizenshipNo(),
        citizenshipIssuedDistrict: "28", // Kathmandu
        qualification: faker.helpers.arrayElement(QUALIFICATIONS),
        occupation: faker.helpers.arrayElement(OCCUPATIONS),
        organizationName: "Test Organization",
        monthlySalary: "50000",
        mobileNo: fakerNepali.contact.mobileNo()
    },

    // Permanent Address
    permanentAddress: {
        province: "3", // Bagmati
        district: "28", // Kathmandu
        municipality: "काठमाडौँ महानगरपालिका",
        ward: fakerNepali.location.ward(),
        village: fakerNepali.location.village()
    },

    // Temporary Address (same as permanent)
    temporaryAddress: {
        province: "3",
        district: "28",
        municipality: "काठमाडौँ महानगरपालिका",
        ward: fakerNepali.location.ward(),
        village: fakerNepali.location.village()
    },

    // Patron Details
    patron: {
        firstNameEn: patronFirstNameEn,
        firstNameNp: patronFirstNameNp,
        middleNameEn: patronMiddleNameEn,
        middleNameNp: patronMiddleNameNp,
        lastNameEn: patronLastNameEn,
        lastNameNp: patronLastNameNp,
        email: fakerNepali.contact.email(patronFirstNameEn, patronLastNameEn),
        relation: faker.helpers.arrayElement(RELATIONS),
        province: "3",
        district: "28",
        municipality: "काठमाडौँ महानगरपालिका",
        ward: fakerNepali.location.ward(),
        citizenshipNo: fakerNepali.contact.citizenshipNo(),
        citizenshipIssuedDistrict: "28",
        contact: fakerNepali.contact.mobileNo(),
        occupation: "Teacher",
        monthlyIncome: "40000"
    },

    // Disability Details
    disability: (() => {
        const selectedDisabilityType = faker.helpers.arrayElement(DISABILITY_TYPES);
        const availableSubtypes = DISABILITY_SUBTYPES[selectedDisabilityType] || [];
        const selectedSubtype = availableSubtypes.length > 0 ? faker.helpers.arrayElement(availableSubtypes) : '';

        return {
            registrationDate: "2020-02-02",
            disabilityType: selectedDisabilityType,
            disabilitySubtype: selectedSubtype,
            disabilitySeverity: faker.helpers.arrayElement(DISABILITY_SEVERITY),
            category: faker.helpers.arrayElement(DISABILITY_CATEGORY),
            cause: faker.helpers.arrayElement(DISABILITY_CAUSE),
            nature: faker.helpers.arrayElement(DISABILITY_NATURE),
            seriousness: faker.helpers.arrayElement(DISABILITY_SERIOUSNESS),
            description: "Not able to walk properly",
            activityLimitDescription: "Not able to walk",
            needOfAccessory: faker.datatype.boolean(),
            useAccessory: faker.datatype.boolean(),
            nameOfAccessory: "Wheelchair",
            taskWithoutHelp: "eating",
            helpForWhichTask: "walking",
            trainingReceived: "not",
            taskWithHelp: "walking",
            otherServices: "glasses"
        };
    })(),

    // Additional Information
    additionalInfo: {
        caste: "14",
        latestEducation: faker.helpers.arrayElement(['ILLITERATE', 'LITERATE', 'PRIMARY_LEVEL', 'LOWER_SECONDARY_LEVEL', 'SECONDARY_LEVEL', 'HIGHER_SECONDARY_LEVEL', 'BACHELOR_LEVEL', 'MASTER_LEVEL', 'PHD_LEVEL']),
        occupation: faker.helpers.arrayElement(['JOBLESS', 'STUDY', 'AGRICULTURE', 'SELF_EMPLOYED', 'GOVERNMENT_SERVICE', 'PRIVATE_SECTOR', 'OTHER']),
        ward: "10",
        ownHouse: faker.datatype.boolean(),
        ownLand: faker.datatype.boolean(),
        stillStudying: faker.datatype.boolean()
    },

    // Receiver Details
    receiver: {
        nameEn: fakerNepali.person.fullNameEn(),
        nameNp: fakerNepali.person.fullName(),
        mobileNumber: fakerNepali.contact.mobileNo(),
        relationship: faker.helpers.arrayElement(RELATIONS),
        receivedDate: "2020-02-02"
    },

    // Authority Details
    authority: {
        nameEn: fakerNepali.person.fullNameEn(),
        nameNp: fakerNepali.person.fullName(),
        mobileNumber: fakerNepali.contact.mobileNo(),
        approvedDate: "2020-02-02",
        designation: "Ward Secretary",
        officeAddress: "Kathmandu-10"
    },

    // Remarks
    remarks: "Verified"
};

export default disabilityData;
